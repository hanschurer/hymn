---
title: 'Unity Game Development Part 1 Zombie Stealth Game'
date: '2022-08-15'
tags: ['Unity', 'Game Development', 'C#']
draft: false
summary: 'A zoombie stealth Game'
---

# The Time Machine by H. G. Wells

_Title_: Unity Game Development Part 1 Zombie Stealth Game

_Author_: H.w

_Subject_: Game develop

_Language_: English

_Source_: [Project Gutenberg](https://www.gutenberg.org/ebooks/35)

## Introduction

The name Zombie Shooter is confusing, Although the tutorial doesn't show any shooting
capabilities. So, I decided to move the game in the direction of a third-person stealth game
which the final goal is to reach the treasure.
In the game, the FSM will be used to control the behavior of the zombies as well as the
animation. This greatly extends the single behavior in the tutorial.
The zombie attack in the tutorial is just an animation effect. In the zombie stealth game, the
zombies will have the ability to kill the player by attack state.
In the tutorial, the zombies will keep tracking the player until the player dies. This puts the
zombies into God mode. A good way to avoid this is to add a sensing feature for the zombies.
At first, I wanted to use the collider's trigger to detect if it collided with the player object.
(Unity Technologies, 2019) But I found that this method causes huge overhead when there are
too many objects around. It affects the game speed. Then I adopted my teacher's suggestion to
use distance to determine whether the player is in the perceptual range.
When the player enters the zombie's perception range, we need to define a zombie's field of
view angle. This will be calculated by using the angle function of vector3. (Unity
Technologies, 2019). We calculate the angle between the line of sight directly in front of the
zombie and the line between the player to calculate whether the player is within the zombie's
line of sight.
Finally, we generate a ray to shoot at the player and specify his maximum distance which is
the maxRadius. This is to let the player hide behind walls without being discovered by
zombies.
If the Raycasthit transform is equal to the player's transform we store the player's transfer into
the nearby object. This way the zombie has a target. It is worth noting that here I adjusted the
ray upward by 0.8 so that it can effectively simulate the ray emitted from the zombie's eye
position, instead of hitting the floor from the ground.
After the perception function, we can define a patrol behavior to make the zombie walk with a
purpose instead of just having the function of rushing to the player as in the tutorial.
I borrowed the map from the second week's problem on Aula and took the opportunity to
implement the waypoints I was considering. Using these waypoints could increase the
gameplay of the game rather than the tutorial.
Waypoint alone is not enough. Once the player is familiar with the logic of zombie patrol, the
game will become tasteless. So, in the treasure area I add zombie random wandering
mechanism. Players will not be able to predict the behavior of zombies, thus adding more fun
to the game.
In addition to this, I used shaders to create visual sensory differences to the different states of
the zombies. The zombie will turn red when attacking and chasing, which I call Berserk
mode.
In the tutorial, zombies have no life value. This will make the player very frustrated. I have
added the combat feature. When a zombie has more than 0 life while that the player presses
the attack button at a distance where he can attack, the zombie will bleed out and eventually
die.
On the player side, I want to give the player AI more freedom, so remove the navmesh agent
function makes the player can use the up, down, left and right buttons to move, the player will
have the ability to kill zombies by Left mouse click. More information about the player values
setting to improve the gameplay can be found in the code comments.
Both zombies and player have well-established animation controller to refine their behavior.
Finally, I set up treasure points and a restart screen to increase the gameplay by more friendly
to the player.
Treasure goal:
Game End canvas:
In addition to enhancing gameplay on the designed waypoints. In the zombie base value also
has some reflection on the gameplay. Such as the the HP value of the zombie is set at 10
because the player does 3 damage per attack. This is to ensure that the zombie is not so easy
to be killed to set a better game difficulty. The zombie's speed is set to a value relative to the
player. It will go up to 2 when the zombie is chasing the player to make sure the zombie can
catch up with the player
The zombies in the game have a 90-degree angle view to better simulate reality and to comply
with some industry standards. This is to try to mimic the feeling of nature by simulating the
human eye. In order to make players have a better game experience, the zombie body
specially set up a point light to have the same angle with the zombie field of view to
implicitly inform the player of the zombie vision range.
At this point, a simple zombie stealth game is complete. By extending the zombie's perception
function and strategic patrol points, it gives the player a great gaming experience as well as
increases the gameplay, In the future, perhaps adding a sneak function to the player to more
strongly enhanced gameplay.



## References
Criterion Software. (2001). Burnout [computer software]
https://www.ea.com/games/burnout?isLocalized=true
Dafoe, A., Hughes, E., Bachrach, Y., Collins, T., McKee, K. R., Leibo, J. Z., Larson, K., &
Graepel, T. (2020). Open problems in cooperative AI. arXiv Preprint arXiv:2012.08630,
J. Hu, H. Niu, J. Carrasco, B. Lennox, & F. Arvin. (2020). Voronoi-based multi-robot
autonomous exploration in unknown environments via deep reinforcement learning.
https://doi.org/10.1109/TVT.2020.3034800
Jaderberg, M., Czarnecki, W. M., Dunning, I., Marris, L., Lever, G., Castañeda, A. G.,
Beattie, C., Rabinowitz, N. C., Morcos, A. S., Ruderman, A., Sonnerat, N., Green, T.,
Deason, L., Leibo, J. Z., Silver, D., Hassabis, D., Kavukcuoglu, K., & Graepel, T.
(2019). Human-level performance in 3D multiplayer games with population-based
reinforcement learning. Science, 364(6443), 859- 865. https://doi.org/10.1126/science.aau6249
Jakob Rasmussen. (2016). Are behavior trees a thing of the
past? https://www.gamasutra.com/blogs/JakobRasmussen/20160427/271188/Are_Behav
ior_Trees_a_Thing_of_the_Past.php
Jay Garmon. (2005). Geek trivia: First shots
fired. https://www.techrepublic.com/article/geek-trivia-first-shots-fired/
KDnuggets. (2019, ). The emergence of cooperative and competitive AI
agents. https://www.kdnuggets.com/the-emergence-of-cooperative-and-competitive-ai￾agents.html/
Millington, I., & Millington, I. (2006). Artificial intelligence for games. CRC Press LLC.
Noam Brown and Anton Bakhtin. (2020, Dec). ReBeL: A general game-playing AI bot that
excels at poker and more. https://ai.facebook.com/blog/rebel-a-general-game-playing-ai￾bot-that-excels-at-poker-and-more/
OpenAI. (2019). Emergent tool use from multi-agent
interaction. https://openai.com/blog/emergent-tool-use/
Red Blob Games. (2014). Red blob games: Introduction to
A*. https://www.redblobgames.com/pathfinding/a-star/introduction.html
Silver, D., Hubert, T., Schrittwieser, J., Antonoglou, I., Lai, M., Guez, A., Lanctot, M., Sifre,
L., Kumaran, D., Graepel, T., Lillicrap, T., Simonyan, K., & Hassabis, D. (2018). A
general reinforcement learning algorithm that masters chess, shogi, and go through self￾play. Science, 362(6419), 1140-1144. https://doi.org/10.1126/science.aar6404
Technologies, U.Unity - scripting API:
Vector3. https://docs.unity3d.com/ScriptReference/Vector3.html
Technologies, U. (2019). Unity - scripting API:
MeshCollider. https://docs.unity3d.com/ScriptReference/MeshCollider.html
Thaddeus Abiy. (2020). A* search | brilliant math & science wiki. https://brilliant.org/wiki/astar-search/
Timothy Carbone. (2019, -12-09T22:39:05+00:00). Artificial intelligence in games –
waypoint tactics. https://timpcarbone.com/2019/12/09/artificial-intelligence-in-gameswaypoint-tactics/
Unity Technologies. (2019a). Unity - scripting API:
Collider.OnTriggerEnter(collider). https://docs.unity3d.com/ScriptReference/Collider.O
nTriggerEnter.html
Unity Technologies. (2019b). Unity - scripting API:
Vector3.angle. https://docs.unity3d.com/ScriptReference/Vector3.Angle.html
Veldhuis, M. O. (2010). (2010). Artificial intelligence techniques used in first-person shooter
and real-time strategy games. Paper presented at the Human Media Seminar: Designing
Entertainment Interaction, , 2011
Vinyals, O., Babuschkin, I., Czarnecki, W. M., Mathieu, M., Dudzik, A., Chung, J., Choi, D.
H., Powell, R., Ewalds, T., Georgiev, P., Oh, J., Horgan, D., Kroiss, M., Danihelka, I.,
Huang, A., Sifre, L., Cai, T., Agapiou, J. P., Jaderberg, M., . . . Silver, D. (2019).
Grandmaster level in StarCraft II using multi-agent reinforcement
learning. Nature, 575(7782), 350-354. https://doi.org/10.1038/s41586-019-1724-z
Vorkflowengine. (2020). Why developers never use state
machines. https://workflowengine.io/blog/why-developers-never-use-state-machines/
Zemzem, W., & Tagina, M. (2018). Cooperative multi-agent systems using distributed
reinforcement learning techniques. Procedia Computer Science, 126, 517- 526. https://doi.org/10.1016/j.procs.2018.07.286
